#!/bin/sh

set -e

branch="$(git find-branch $@ | cut -d'/' -f2-)"
checkout="$(echo "$branch" | head -n 1)"

if [ -z "$branch" ]; then
    echo "ERROR: Failed to find any branches to check out." >&2
elif [ $(echo "$branch" | wc -l) -ne 1 ]; then
    echo "WARNING: Expected to find a single branch result. Press enter to check out first result: $checkout" >&2
    read input
fi

git checkout $checkout
